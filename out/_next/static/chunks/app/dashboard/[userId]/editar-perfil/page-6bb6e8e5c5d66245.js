(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{2444:function(e,t,r){Promise.resolve().then(r.bind(r,1567)),Promise.resolve().then(r.bind(r,1566))},1567:function(e,t,r){"use strict";var a=r(7437),i=r(2265),n=r(6463),s=r(9733);t.default=()=>{let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(),[l,o]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[b,h]=(0,i.useState)(""),[x,v]=(0,i.useState)(null),[g,j]=(0,i.useState)(!1),[y,N]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=localStorage.getItem("userId");e&&r(e)},[]);let k=()=>{o(""),c(""),m(""),p(""),h("")},w=async e=>{v(null),j(!1),e.preventDefault();try{let e=await fetch("/api/editar-perfil",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:l,apellido:d,email:u,telefono:f,direccion:b,userId:t})});if(e.ok){let t=await e.json();v(t.message)}else v("Error, por favor intent\xe1 de nuevo"),j(!0)}catch(e){v("Error, por favor intent\xe1 de nuevo"),j(!0)}finally{k()}},C=async()=>{try{(await fetch("/api/editar-perfil",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok?(v("Cuenta eliminada con \xe9xito."),localStorage.clear(),e.push("/")):(v("Error al eliminar la cuenta, por favor intent\xe1 de nuevo."),j(!0))}catch(e){v("Error al eliminar la cuenta, por favor intent\xe1 de nuevo."),j(!0)}};return(0,a.jsxs)("div",{className:"p-4",children:[x&&(0,a.jsx)("div",{className:"text-lg font-semibold text-center mb-2 ".concat(g?"text-red-600":"text-blue-600"),children:x}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Editar Perfil de Usuario"}),(0,a.jsxs)("form",{onSubmit:w,className:"flex flex-col gap-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Informaci\xf3n del Usuario"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"nombre",className:"block text-sm font-medium",children:"Nombre:"}),(0,a.jsx)("input",{type:"text",id:"nombre",className:"mt-1 p-2 border rounded-md w-full",value:l,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"apellido",className:"block text-sm font-medium",children:"Apellido:"}),(0,a.jsx)("input",{type:"text",id:"apellido",className:"mt-1 p-2 border rounded-md w-full",value:d,onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Correo Electr\xf3nico:"}),(0,a.jsx)("input",{type:"email",id:"email",className:"mt-1 p-2 border rounded-md w-full",value:u,onChange:e=>m(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"telefono",className:"block text-sm font-medium",children:"Tel\xe9fono:"}),(0,a.jsx)("input",{type:"tel",id:"telefono",className:"mt-1 p-2 border rounded-md w-full",value:f,onChange:e=>p(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"direccion",className:"block text-sm font-medium",children:"Direcci\xf3n:"}),(0,a.jsx)("input",{type:"text",id:"direccion",className:"mt-1 p-2 border rounded-md w-full",value:b,onChange:e=>h(e.target.value)})]}),(0,a.jsx)(s.z,{className:"mt-4 bg-primary text-white py-2 rounded-md hover:bg-primary-dark",type:"submit",disabled:!l&&!d&&!f&&!u&&!b,children:"Guardar Cambios"}),(0,a.jsx)(s.z,{className:"mt-2 bg-red-600 text-white py-2 rounded-md hover:bg-red-700",onClick:()=>N(!0),children:"Eliminar Cuenta"})]}),y&&(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"\xbfEst\xe1s seguro de que deseas eliminar tu cuenta? Esta acci\xf3n no se puede deshacer."}),(0,a.jsxs)("div",{className:"mt-5 flex flex-row gap-4 w-50 items-center justify-center",children:[(0,a.jsx)(s.z,{className:"bg-red-600 text-white py-2 rounded-md hover:bg-red-700",onClick:()=>{C(),N(!1)},children:"Eliminar Cuenta"}),(0,a.jsx)(s.z,{className:"bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",onClick:()=>{C(),N(!1)},children:"Cancelar"})]})]})})]})}},1566:function(e,t,r){"use strict";r.d(t,{PageContainer:function(){return C}});var a=r(7437),i=r(2265);let n=e=>{let{title:t,description:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight mb-0",children:t}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]})};var s=r(8484),l=r(9354);let o=i.forwardRef((e,t)=>{let{className:r,orientation:i="horizontal",decorative:n=!0,...o}=e;return(0,a.jsx)(s.f,{ref:t,decorative:n,orientation:i,className:(0,l.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",r),...o})});o.displayName=s.f.displayName;var d=r(4867),c=r(1538);let u=i.forwardRef((e,t)=>{let{...r}=e;return(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});u.displayName="Breadcrumb";let m=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("ol",{ref:t,className:(0,l.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...i})});m.displayName="BreadcrumbList";let f=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("li",{ref:t,className:(0,l.cn)("inline-flex items-center gap-1.5",r),...i})});f.displayName="BreadcrumbItem";let p=i.forwardRef((e,t)=>{let{asChild:r,className:i,...n}=e,s=r?c.g7:"a";return(0,a.jsx)(s,{ref:t,className:(0,l.cn)("transition-colors hover:text-foreground",i),...n})});p.displayName="BreadcrumbLink";let b=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("font-normal text-foreground",r),...i})});b.displayName="BreadcrumbPage";let h=e=>{let{children:t,className:r,...i}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",r),...i,children:null!=t?t:(0,a.jsx)(d.XCv,{})})};h.displayName="BreadcrumbSeparator";var x=r(357),v=e=>{let{items:t}=e;return(0,a.jsx)(u,{className:"mb-4",children:(0,a.jsx)(m,{children:t.map((e,r)=>(0,a.jsxs)(i.Fragment,{children:[r!==t.length-1&&(0,a.jsx)(f,{children:(0,a.jsx)(p,{href:e.link,children:e.title})}),r<t.length-1&&(0,a.jsx)(h,{children:(0,a.jsx)(x.Z,{})}),r===t.length-1&&(0,a.jsx)(b,{children:e.title})]},e.title))})})},g=r(23);let j=i.forwardRef((e,t)=>{let{className:r,children:i,...n}=e;return(0,a.jsxs)(g.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",r),...n,children:[(0,a.jsx)(g.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,a.jsx)(y,{}),(0,a.jsx)(g.Ns,{})]})});j.displayName=g.fC.displayName;let y=i.forwardRef((e,t)=>{let{className:r,orientation:i="vertical",...n}=e;return(0,a.jsx)(g.gb,{ref:t,orientation:i,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,a.jsx)(g.q4,{className:"relative flex-1 rounded-full bg-border"})})});y.displayName=g.gb.displayName;var N=r(6463);let k=(e,t)=>({"puntos-y-canjes":{title:"Puntos y canjes",description:"Realiza canjes seg\xfan los puntos acumulados como recompensa por tu colaboraci\xf3n",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Puntos y canjes",link:"/".concat(t,"/puntos-y-canjes")}]},heladeras:{title:"Heladeras",description:"Gestiona el alta y baja de las heladeras",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Heladeras",link:"/".concat(t,"/heladeras")}]},"registro-personas":{title:"Personas en Situaci\xf3n Vulnerable",description:"Gestiona el alta y baja de personas en situaci\xf3n vulnerable",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Registro Personas",link:"/".concat(t,"/registro-personas")}]},viandas:{title:"Viandas",description:"Gestiona la carga de Viandas",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Viandas",link:"/".concat(t,"/viandas")}]},donaciones:{title:"Donaciones",description:"Gestiona la carga de Donaciones de Dinero",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Donaciones",link:"/".concat(t,"/donaciones")}]},distribucion:{title:"Distribuci\xf3n de Viandas",description:"Carg\xe1 los datos necesarios para distribuir viandas.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Distribuci\xf3n de Viandas",link:"/".concat(t,"/distribucion")}]},tecnicos:{title:"Manejo T\xe9cnicos de Heladeras",description:"Gestiona el alta, baja y modificaci\xf3n de informaci\xf3n de t\xe9cnicos para el mantenimiento de las heladeras.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Manejo T\xe9cnicos",link:"/".concat(t,"/tecnicos")}]},"editar-perfil":{title:"Editar Perfil",description:"Edit\xe1 tu informaci\xf3n.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Editar Perfil",link:"/".concat(t,"/editar-perfil")}]},administradores:{title:"Administradores",description:"Edita informaci\xf3n del los administradores",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Administradores",link:"/".concat(t,"/administradores")}]},"cargar-colaboraciones":{title:"Carga Masiva Colaboraciones",description:"Carga varias colaboraciones juntas.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Cargar Colaboraciones",link:"/".concat(t,"/cargar-colaboraciones")}]},tarjetas:{title:"Gesti\xf3n de Tarjetas",description:"Gestion\xe1 las tarjetas que ten\xe9s disponibles.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Gesti\xf3n de Tarjetas",link:"/".concat(t,"/tarjetas")}]},incidentes:{title:"Incidentes en Heladeras",description:"Si alguna heladera tiene un incidente, complet\xe1 el formulario.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Incidentes",link:"/".concat(t,"/incidentes")}]},reportes:{title:"Reportes",description:"",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Reportes",link:"/".concat(t,"/reportes")}]}})[e],w=e=>{let t=e.split("/").filter(Boolean);return t.length>=3?t[2]:t[1]},C=e=>{let{children:t,scrollable:r=!1}=e,i=(0,N.usePathname)(),{userId:s}=(0,N.useParams)(),{title:l,description:d,breadcrumbs:c}=k(w(i),s.toString());return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(j,{className:"h-[calc(100dvh-52px)]",children:(0,a.jsxs)("div",{className:"h-full  p-4 md:px-8 ",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)(v,{items:c}),(0,a.jsx)(n,{title:l,description:d})]}),(0,a.jsx)(o,{}),(0,a.jsx)("div",{className:"space-y-4 mt-4",children:t})]})}):(0,a.jsxs)("div",{className:"h-full  p-4 md:px-8",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)(v,{items:c}),(0,a.jsx)(n,{title:l,description:d})]}),(0,a.jsx)(o,{}),(0,a.jsx)("div",{className:"space-y-4 mt-4",children:t})]})})}},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),i=r(2265),n=r(1538),s=r(2218),l=r(9354);let o=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:i,size:s,className:r})),ref:t,...c})});d.displayName="Button"},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(4839),i=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,a.W)(t))}},2218:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});let a=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,i=function(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,a,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(a=e(t[r]))&&(i&&(i+=" "),i+=a);else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(a&&(a+=" "),a+=t);return a},n=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:l}=t,o=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],i=null==l?void 0:l[e];if(null===t)return null;let n=a(t)||a(i);return s[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return i(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:a,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[310,927,704,971,23,744],function(){return e(e.s=2444)}),_N_E=e.O()}]);