(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{9276:function(e,t,a){Promise.resolve().then(a.bind(a,8703)),Promise.resolve().then(a.bind(a,1566))},8703:function(e,t,a){"use strict";a.d(t,{default:function(){return c}});var r=a(7437),i=a(2265),n=a(9733),s=e=>{let{onAdd:t}=e,[a,s]=(0,i.useState)(""),[l,o]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[h,b]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[x,j]=(0,i.useState)(""),[v,g]=(0,i.useState)(null),N=async e=>{e.preventDefault();try{await t({nombre:a,apellido:l,tipoDocumento:c,numeroDocumento:u,cuil:h,medioContacto:f,areaCobertura:x,habilitado:!0}),s(""),o(""),d(""),m(""),b(""),p(""),j(""),g(null)}catch(e){g("Error al registrar el t\xe9cnico. Por favor, intente nuevamente.")}};return(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("div",{className:"w-3/4 bg-white shadow-lg rounded-lg p-6",children:(0,r.jsxs)("div",{className:"p-4",children:[v&&(0,r.jsx)("div",{className:"text-red-500",children:v})," ",(0,r.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Formulario de Registro de T\xe9cnicos"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"nombre",className:"block text-sm font-medium",children:"Nombre:"}),(0,r.jsx)("input",{type:"text",id:"nombre",className:"mt-1 p-2 border rounded-md w-full",value:a,onChange:e=>s(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apellido",className:"block text-sm font-medium",children:"Apellido:"}),(0,r.jsx)("input",{type:"text",id:"apellido",className:"mt-1 p-2 border rounded-md w-full",value:l,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tipoDocumento",className:"block text-sm font-medium",children:"Tipo de Documento:"}),(0,r.jsx)("input",{type:"text",id:"tipoDocumento",className:"mt-1 p-2 border rounded-md w-full",value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"numeroDocumento",className:"block text-sm font-medium",children:"N\xfamero de Documento:"}),(0,r.jsx)("input",{type:"text",id:"numeroDocumento",className:"mt-1 p-2 border rounded-md w-full",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cuil",className:"block text-sm font-medium",children:"CUIL:"}),(0,r.jsx)("input",{type:"text",id:"cuil",className:"mt-1 p-2 border rounded-md w-full",value:h,onChange:e=>b(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"medioContacto",className:"block text-sm font-medium",children:"Medio de Contacto:"}),(0,r.jsx)("input",{type:"text",id:"medioContacto",className:"mt-1 p-2 border rounded-md w-full",value:f,onChange:e=>p(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"areaCobertura",className:"block text-sm font-medium",children:"\xc1rea de Cobertura:"}),(0,r.jsx)("input",{type:"text",id:"areaCobertura",className:"mt-1 p-2 border rounded-md w-full",value:x,onChange:e=>j(e.target.value),required:!0})]}),(0,r.jsx)(n.z,{className:"mt-4 bg-primary text-white py-2 rounded-md hover:bg-primary-dark",type:"submit",children:"Registrar T\xe9cnico"})]})]})})})},l=e=>{let{onUpdate:t,dataTecnico:a}=e,[s,l]=(0,i.useState)(a.medioContacto),[o,c]=(0,i.useState)(a.areaCobertura);(0,i.useEffect)(()=>{l(a.medioContacto),c(a.areaCobertura)},[a]);let d=async e=>{e.preventDefault(),await t({...a,medioContacto:s,areaCobertura:o})};return(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("div",{className:"w-3/4 bg-white shadow-lg rounded-lg p-6",children:(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Formulario de Edici\xf3n de T\xe9cnicos"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"medioContacto",className:"block text-sm font-medium",children:"Medio de Contacto:"}),(0,r.jsx)("input",{type:"text",id:"medioContacto",className:"mt-1 p-2 border rounded-md w-full",value:s,onChange:e=>l(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"areaCobertura",className:"block text-sm font-medium",children:"\xc1rea de Cobertura:"}),(0,r.jsx)("input",{type:"text",id:"areaCobertura",className:"mt-1 p-2 border rounded-md w-full",value:o,onChange:e=>c(e.target.value),required:!0})]}),(0,r.jsx)(n.z,{className:"mt-4 bg-primary text-white py-2 rounded-md hover:bg-primary-dark",type:"submit",children:"Actualizar Informaci\xf3n"})]})})})})},o=a(1566),c=()=>{let[e,t]=(0,i.useState)(!1),[a,c]=(0,i.useState)(null),[d,u]=(0,i.useState)([]),[m,h]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{let e=await fetch("/api/tecnicos");u(await e.json())})()},[]);let b=async e=>{let t=await fetch("/api/tecnicos",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok?(u(t=>t.map(t=>t.numeroDocumento===e.numeroDocumento?{...t,...e}:t)),c(null)):h(a.errores||a.mensaje||["Error al actualizar"])},f=async e=>{let a=await fetch("/api/tecnicos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await a.json();a.ok?(u(t=>[...t,e]),t(!1),h(null)):h(r.errores||r.mensaje||["Error al agregar"])},p=async e=>{let t=d.find(t=>t.numeroDocumento===e);if(t){let a={habilitado:!t.habilitado},r=await fetch("/api/tecnicos",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({numeroDocumento:e,...a})});if(r.ok)u(t=>t.map(t=>t.numeroDocumento===e?{...t,habilitado:!t.habilitado}:t));else{let e=await r.json();h(e.errores||e.mensaje||["Error al cambiar el estado del t\xe9cnico"])}}};return(0,r.jsxs)(o.PageContainer,{children:[(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"flex justify-around mt-4",children:(0,r.jsx)("button",{onClick:()=>{t(!e),c(null)},className:"bg-blue-600 text-white py-2 px-4 rounded-md shadow-lg transition transform hover:bg-blue-500 hover:scale-105",children:"Registrar nuevo T\xe9cnico"})})}),e&&(0,r.jsx)(s,{onAdd:f}),a&&(0,r.jsx)(l,{dataTecnico:a,onUpdate:b}),m&&(0,r.jsx)("div",{className:"text-red-500",children:m}),(0,r.jsxs)("section",{className:"technicians-list",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Lista de T\xe9cnicos"}),(0,r.jsx)("ul",{className:"list-disc pl-5",children:d.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center mb-2",children:[e.nombre," ",e.apellido," - N\xfamero de Documento: ",e.numeroDocumento,(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(n.z,{onClick:()=>{t(!1),c(e)},className:"w-auto",children:"Editar Informaci\xf3n"}),(0,r.jsx)(n.z,{onClick:()=>p(e.numeroDocumento),className:e.habilitado?"w-auto bg-red-600 hover:bg-red-500":"w-auto bg-yellow-500 hover:bg-yellow-400",children:e.habilitado?"Inhabilitar t\xe9cnico":"Habilitar T\xe9cnico"})]})]},e.numeroDocumento))})]})]})}},1566:function(e,t,a){"use strict";a.d(t,{PageContainer:function(){return C}});var r=a(7437),i=a(2265);let n=e=>{let{title:t,description:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight mb-0",children:t}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]})};var s=a(8484),l=a(9354);let o=i.forwardRef((e,t)=>{let{className:a,orientation:i="horizontal",decorative:n=!0,...o}=e;return(0,r.jsx)(s.f,{ref:t,decorative:n,orientation:i,className:(0,l.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",a),...o})});o.displayName=s.f.displayName;var c=a(4867),d=a(1538);let u=i.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...a})});u.displayName="Breadcrumb";let m=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("ol",{ref:t,className:(0,l.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...i})});m.displayName="BreadcrumbList";let h=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("li",{ref:t,className:(0,l.cn)("inline-flex items-center gap-1.5",a),...i})});h.displayName="BreadcrumbItem";let b=i.forwardRef((e,t)=>{let{asChild:a,className:i,...n}=e,s=a?d.g7:"a";return(0,r.jsx)(s,{ref:t,className:(0,l.cn)("transition-colors hover:text-foreground",i),...n})});b.displayName="BreadcrumbLink";let f=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("font-normal text-foreground",a),...i})});f.displayName="BreadcrumbPage";let p=e=>{let{children:t,className:a,...i}=e;return(0,r.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...i,children:null!=t?t:(0,r.jsx)(c.XCv,{})})};p.displayName="BreadcrumbSeparator";var x=a(357),j=e=>{let{items:t}=e;return(0,r.jsx)(u,{className:"mb-4",children:(0,r.jsx)(m,{children:t.map((e,a)=>(0,r.jsxs)(i.Fragment,{children:[a!==t.length-1&&(0,r.jsx)(h,{children:(0,r.jsx)(b,{href:e.link,children:e.title})}),a<t.length-1&&(0,r.jsx)(p,{children:(0,r.jsx)(x.Z,{})}),a===t.length-1&&(0,r.jsx)(f,{children:e.title})]},e.title))})})},v=a(23);let g=i.forwardRef((e,t)=>{let{className:a,children:i,...n}=e;return(0,r.jsxs)(v.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...n,children:[(0,r.jsx)(v.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,r.jsx)(N,{}),(0,r.jsx)(v.Ns,{})]})});g.displayName=v.fC.displayName;let N=i.forwardRef((e,t)=>{let{className:a,orientation:i="vertical",...n}=e;return(0,r.jsx)(v.gb,{ref:t,orientation:i,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,r.jsx)(v.q4,{className:"relative flex-1 rounded-full bg-border"})})});N.displayName=v.gb.displayName;var y=a(6463);let w=(e,t)=>({"puntos-y-canjes":{title:"Puntos y canjes",description:"Realiza canjes seg\xfan los puntos acumulados como recompensa por tu colaboraci\xf3n",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Puntos y canjes",link:"/".concat(t,"/puntos-y-canjes")}]},heladeras:{title:"Heladeras",description:"Gestiona el alta y baja de las heladeras",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Heladeras",link:"/".concat(t,"/heladeras")}]},"registro-personas":{title:"Personas en Situaci\xf3n Vulnerable",description:"Gestiona el alta y baja de personas en situaci\xf3n vulnerable",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Registro Personas",link:"/".concat(t,"/registro-personas")}]},viandas:{title:"Viandas",description:"Gestiona la carga de Viandas",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Viandas",link:"/".concat(t,"/viandas")}]},donaciones:{title:"Donaciones",description:"Gestiona la carga de Donaciones de Dinero",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Donaciones",link:"/".concat(t,"/donaciones")}]},distribucion:{title:"Distribuci\xf3n de Viandas",description:"Carg\xe1 los datos necesarios para distribuir viandas.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Distribuci\xf3n de Viandas",link:"/".concat(t,"/distribucion")}]},tecnicos:{title:"Manejo T\xe9cnicos de Heladeras",description:"Gestiona el alta, baja y modificaci\xf3n de informaci\xf3n de t\xe9cnicos para el mantenimiento de las heladeras.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Manejo T\xe9cnicos",link:"/".concat(t,"/tecnicos")}]},"editar-perfil":{title:"Editar Perfil",description:"Edit\xe1 tu informaci\xf3n.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Editar Perfil",link:"/".concat(t,"/editar-perfil")}]},administradores:{title:"Administradores",description:"Edita informaci\xf3n del los administradores",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Administradores",link:"/".concat(t,"/administradores")}]},"cargar-colaboraciones":{title:"Carga Masiva Colaboraciones",description:"Carga varias colaboraciones juntas.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Cargar Colaboraciones",link:"/".concat(t,"/cargar-colaboraciones")}]},tarjetas:{title:"Gesti\xf3n de Tarjetas",description:"Gestion\xe1 las tarjetas que ten\xe9s disponibles.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Gesti\xf3n de Tarjetas",link:"/".concat(t,"/tarjetas")}]},incidentes:{title:"Incidentes en Heladeras",description:"Si alguna heladera tiene un incidente, complet\xe1 el formulario.",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Incidentes",link:"/".concat(t,"/incidentes")}]},reportes:{title:"Reportes",description:"",breadcrumbs:[{title:"Inicio",link:"/"},{title:"Reportes",link:"/".concat(t,"/reportes")}]}})[e],k=e=>{let t=e.split("/").filter(Boolean);return t.length>=3?t[2]:t[1]},C=e=>{let{children:t,scrollable:a=!1}=e,i=(0,y.usePathname)(),{userId:s}=(0,y.useParams)(),{title:l,description:c,breadcrumbs:d}=w(k(i),s.toString());return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)(g,{className:"h-[calc(100dvh-52px)]",children:(0,r.jsxs)("div",{className:"h-full  p-4 md:px-8 ",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(j,{items:d}),(0,r.jsx)(n,{title:l,description:c})]}),(0,r.jsx)(o,{}),(0,r.jsx)("div",{className:"space-y-4 mt-4",children:t})]})}):(0,r.jsxs)("div",{className:"h-full  p-4 md:px-8",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(j,{items:d}),(0,r.jsx)(n,{title:l,description:c})]}),(0,r.jsx)(o,{}),(0,r.jsx)("div",{className:"space-y-4 mt-4",children:t})]})})}},9733:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(7437),i=a(2265),n=a(1538),s=a(2218),l=a(9354);let o=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:a,variant:i,size:s,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:i,size:s,className:a})),ref:t,...d})});c.displayName="Button"},9354:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(4839),i=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,r.W)(t))}},2218:function(e,t,a){"use strict";a.d(t,{j:function(){return n}});let r=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,i=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=function e(t){var a,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(a=0;a<t.length;a++)t[a]&&(r=e(t[a]))&&(i&&(i+=" "),i+=r);else for(a in t)t[a]&&(i&&(i+=" "),i+=a)}return i}(e))&&(r&&(r+=" "),r+=t);return r},n=(e,t)=>a=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:s,defaultVariants:l}=t,o=Object.keys(s).map(e=>{let t=null==a?void 0:a[e],i=null==l?void 0:l[e];if(null===t)return null;let n=r(t)||r(i);return s[e][n]}),c=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return i(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:a,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...l,...c}[t]):({...l,...c})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}}},function(e){e.O(0,[310,927,704,971,23,744],function(){return e(e.s=9276)}),_N_E=e.O()}]);