(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{6337:function(a,e,t){Promise.resolve().then(t.bind(t,9705)),Promise.resolve().then(t.bind(t,1566))},9705:function(a,e,t){"use strict";t.d(e,{default:function(){return l}});var s=t(7437),n=t(2265),i=t(7349),r=JSON.parse('[{"id":391313,"numeroTarjeta":"K1L2M3N4O5P","fecha":"2025-01-23T20:43:00.031Z","cantidadViandas":3},{"id":88404,"numeroTarjeta":"D6E7F8G9H0I","fecha":"2025-01-23T20:43:00.033Z","cantidadViandas":1},{"id":538732,"numeroTarjeta":"G6H7I8J9K0L","fecha":"2025-01-23T20:43:00.035Z","cantidadViandas":3},{"id":279017,"numeroTarjeta":"G6H7I8J9K0L","fecha":"2025-01-23T20:43:00.037Z","cantidadViandas":3},{"id":452555,"numeroTarjeta":"S6T7U8V9W0X","fecha":"2025-01-23T20:43:00.029Z","cantidadViandas":1},{"id":662875,"numeroTarjeta":"M1N2O3P4Q5R","fecha":"2025-01-23T20:43:00.043Z","cantidadViandas":1},{"id":689417,"numeroTarjeta":"X1Y2Z3A4B5C","fecha":"2025-01-23T20:43:00.044Z","cantidadViandas":2},{"id":526986,"fecha":"2025-01-23T20:43:00.042Z","cantidadViandas":2},{"id":254080,"numeroTarjeta":"S6T7U8V9W0X","fecha":"2025-01-23T20:43:00.039Z","cantidadViandas":2},{"id":415006,"fecha":"2025-01-23T20:43:00.652Z","cantidadViandas":3},{"id":361282,"fecha":"2025-01-23T20:43:00.654Z","cantidadViandas":4},{"id":578217,"numeroTarjeta":"Q6R7S8T9U0V","fecha":"2025-01-23T20:43:00.935Z","cantidadViandas":1},{"id":487608,"fecha":"2025-01-24T18:00:00.668Z"}]'),d=t(9733),l=()=>{let[a,e]=(0,n.useState)(),[t,l]=(0,n.useState)();(0,n.useEffect)(()=>{l(localStorage.getItem("userId"))},[]),(0,n.useEffect)(()=>{e(i.x.filter(a=>a.colaboradorId===t))},[t]);let c=async a=>{try{let s=await fetch("/api/tarjetas",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({numeroTarjeta:a,colaboradorId:t})});if(!s.ok){let a=await s.json();throw Error(a.mensaje||"Error al eliminar la tarjeta.")}e(e=>e.filter(e=>e.numeroTarjeta!==a))}catch(a){console.error("Error eliminando la tarjeta:",a)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:"technicians-list",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Lista de Tarjetas"}),(0,s.jsx)("p",{className:"mt-2 mb-5 text-l",children:"Si perdiste o hubo alg\xfan problema con alguna de las tarjetas que ten\xe9s asignadas, ac\xe1 podes eliminarla para que la deshabilitemos."}),(0,s.jsx)("ul",{className:"list-disc pl-5",children:null==a?void 0:a.map(a=>(0,s.jsxs)("li",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2 w-2/3",children:[(0,s.jsx)("p",{className:"font-semibold mr-2",children:"N\xfamero de tarjeta:"}),a.numeroTarjeta,a.tarjetaAsignadaAPersonaVulnerable?(0,s.jsx)("b",{className:"text-yellow-600",children:"Tarjeta Entregada"}):(0,s.jsx)("b",{className:"text-green-600",children:"Tarjeta Disponible"})]}),(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsx)(d.z,{onClick:()=>{c(a.numeroTarjeta)},className:"w-auto",children:"Eliminar Tarjeta"})})]},a.numeroTarjeta))})]}),null==a?void 0:a.map(a=>{let e=r.filter(e=>e.numeroTarjeta===a.numeroTarjeta&&!0===a.tarjetaAsignadaAPersonaVulnerable);return e.length?(0,s.jsxs)("section",{className:"mt-5",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-5",children:["Usos de la Tarjeta ",a.numeroTarjeta]}),(0,s.jsx)("ul",{className:"list-disc pl-5",children:e.length>0?e.map(a=>(0,s.jsxs)("li",{className:"flex justify-between items-center mb-2",children:[null==a?void 0:a.descripcion," - Fecha:"," ",null==a?void 0:a.fecha]},null==a?void 0:a.id)):(0,s.jsx)("li",{children:"No hay usos registrados para esta tarjeta."})})]},a.numeroTarjeta):void 0})]})}}},function(a){a.O(0,[310,927,704,177,971,23,744],function(){return a(a.s=6337)}),_N_E=a.O()}]);